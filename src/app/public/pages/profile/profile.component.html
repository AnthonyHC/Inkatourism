<mat-card class="profile-card">
  <div class="background">
    <mat-card-header>
      <mat-card-title>{{ user.name }}</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <p>{{ user.bio }}</p>
    </mat-card-content>
  </div>
  <mat-card-actions>
    <button mat-raised-button color="primary">Follow</button>
  </mat-card-actions>
</mat-card>

<div class="posts">
  <h3>{{ user.name }}’s posts</h3>
  <mat-card *ngFor="let post of user.posts">
    <mat-card-header>
      <mat-card-title>{{ post.username }}</mat-card-title>
      <mat-card-subtitle>{{ post.date }}</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <p>{{ post.message }}</p>

      <!-- Mostrar el medio (imagen o video) si está presente -->
      <div *ngIf="post.media">
        <!-- Si es un video de YouTube -->
        <div *ngIf="post.media.includes('youtube.com')">
          <iframe width="100%" height="315" [src]="getSafeVideoUrl(post.media)" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>

        <!-- Si es una imagen -->
        <div *ngIf="!post.media.includes('youtube.com')">
          <img [src]="post.media" alt="Post media" class="post-media-image" />
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
